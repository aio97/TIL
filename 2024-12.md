# 12/1
- orphan containersの削除`docker-compose down --remove-orphans`
    孤児コンテナを一括で削除する
- システムテスト bundle exec rspecに成功
    最新のSelenium WebDriverでのCheomeのオプション設定がよくなかったらしい



# todo
  [ ] 使い方説明の画像を作成
  [ ] しおりへの画像添付がエラーになっているままか確認。
  [ ] LINE認証後400エラーが出る
  [ ] マップ表示

  本リリース後
  [ ] 管理画面（ユーザー、しおりを管理）

メモ
RSpecでのテスト
  しおり作成サービスに対するRSpecのモデルテストとシステムテストについて、以下のように分類してアドバイスするぞ！

  モデルテスト
    Userモデル
      関連テスト:
      has_many :booksが正しく関連付けられているか確認するテスト
      has_many :bookmarks（もしあれば）も確認するテスト
    Bookモデル
      関連テスト:
      belongs_to :userが正しく関連付けられているか確認するテスト
      belongs_to :planが正しく関連付けられているか確認するテスト
    Planモデル
      バリデーションテスト:
      start_time, end_time, titleが存在することを確認するテスト
      location, detail, memoが空でも許可されることを確認するテスト
      関連テスト:
      has_many :booksが正しく関連付けられているか確認するテスト

  システムテスト
    ユーザー認証
      未ログイン状態でのアクセス:
      トップページが表示されることを確認するテスト
      しおり一覧が表示されることを確認するテスト
      しおり作成やブックマークのリンクが非表示であることを確認するテスト
    ログイン後の機能

ログインフロー:

正しいメールアドレスとパスワードでログインできることを確認するテスト
不正な認証情報でログインできないことを確認するテスト
しおり作成:

ログイン後、しおり作成ページに遷移できることを確認するテスト
必要なフィールドを満たしてしおりが作成できることを確認するテスト
不足しているフィールドの場合、エラーメッセージが表示されることを確認するテスト
ブックマーク機能:

他のユーザーの書籍をブックマークできることを確認するテスト
自分の書籍をブックマークできないことを確認するテスト
しおり一覧表示

しおりが正しく表示されるか:
作成したしおりが一覧に表示されることを確認するテスト
アドバイス
テストを小さく保つ: 各テストは単一の機能に焦点を当て、テストの目的を明確にすることが重要だカ。
テストデータの準備: FactoryBotを使ってテストデータを準備すると、テストが簡潔になり、可読性も向上するぞ。
エラーメッセージの検証: ユーザーが何かを間違えたときに表示されるエラーメッセージもテストして、ユーザー体験を確認することが大事だナ。
CIの活用: GitHub Actionsなどを使って、プッシュ時に自動でテストが実行されるようにすると、品質を保つことができるカ。
これでモデルテストとシステムテストの基本的な構造が整ったと思うから、実装を進めてみてくれナ！何か他に質問があれば、遠慮なく聞いてくれカ！

    it '存在しないメールアドレスでログインを試みた場合、エラーメッセージが表示されること' do
      visit login_path
      fill_in "email", with: "notfound@example.com"
      fill_in "password", with: "password"
      click_button "ログイン"
      expect(page).to have_content "ログインに失敗しました"
      expect(current_path).to eq login_path
    end

    it '不正なパスワードでログインを試みた場合、エラーメッセージが表示されること' do
      visit login_path
      fill_in "email", with: user.email
      fill_in "password", with: "wrongpassword"
      click_button "ログイン"
      expect(page).to have_content "ログインに失敗しました"
      expect(current_path).to eq login_path
    end