# 12/1
- orphan containersの削除`docker-compose down --remove-orphans`
    孤児コンテナを一括で削除する
- システムテスト bundle exec rspecに成功
    最新のSelenium WebDriverでのCheomeのオプション設定がよくなかったらしい

# 12/2
  - システムテストを追加
    - ログイン機能
    - 新規登録機能（途中）
      メモリ不足でクラッシュしてしまうので、分割でテスト`bundle exec rspec spec/system/users_spec.rb:テストしたい行`
    - レビュー修正
      - google maps表示
        - マップが表示されない
          => Google CloudのAPIとサービス>認証情報>ウェブサイトの制限でURL固定としていた。*をつけて修正。
        - 一度更新しないとマップが表示されない
          => Google Maps APIの初期化がページの完全なロードを必要とするが、`turbo:load`だとgoogle.mapsの読み込みが完了しているかわからない。また、Google Maps APIスクリプトの読み込みを非同期`async, defer`で行っていてJavascriptのコードがgoole.mapsのロードよりも先に実行される可能性がある。Google Maps APIオード完了後に初期化するようにロード後に呼び出す関数を設定`window.initMapCallback = callback;`
      - LINEログイン
        コールバックURLが今まででproduction側した反応していなかった？developmentのみにしたら`GET "/oauth/line"`時点で400エラーに



# todo
  [ ] 使い方説明の画像を作成
  [ ] しおりへの画像添付がエラーになっているままか確認。
  [ ] LINE認証後400エラーが出る
  [ ] マップ表示

  本リリース後
  [ ] 管理画面（ユーザー、しおりを管理）
  [ ] モデルテスト（関連モデル）を追加
      - Userモデル
        関連テスト:
        has_many :booksが正しく関連付けられているか確認するテスト
        has_many :bookmarks（もしあれば）も確認するテスト
      - Bookモデル
        関連テスト:
        belongs_to :userが正しく関連付けられているか確認するテスト
        belongs_to :planが正しく関連付けられているか確認するテスト
      - Planモデル
        バリデーションテスト:
        start_time, end_time, titleが存在することを確認するテスト
        location, detail, memoが空でも許可されることを確認するテスト
        関連テスト:
        has_many :booksが正しく関連付けられているか確認するテスト

# 学びメモ

  システムテスト
    ユーザー認証
      未ログイン状態でのアクセス:
      トップページが表示されることを確認するテスト
      しおり一覧が表示されることを確認するテスト
      しおり作成やブックマークのリンクが非表示であることを確認するテスト
    ログイン後の機能

しおり作成:

ログイン後、しおり作成ページに遷移できることを確認するテスト
必要なフィールドを満たしてしおりが作成できることを確認するテスト
不足しているフィールドの場合、エラーメッセージが表示されることを確認するテスト
ブックマーク機能:

他のユーザーの書籍をブックマークできることを確認するテスト
自分の書籍をブックマークできないことを確認するテスト
しおり一覧表示

しおりが正しく表示されるか:
作成したしおりが一覧に表示されることを確認するテスト

アドバイス
テストを小さく保つ: 各テストは単一の機能に焦点を当て、テストの目的を明確にすることが重要だカ。
テストデータの準備: FactoryBotを使ってテストデータを準備すると、テストが簡潔になり、可読性も向上するぞ。
エラーメッセージの検証: ユーザーが何かを間違えたときに表示されるエラーメッセージもテストして、ユーザー体験を確認することが大事だナ。
